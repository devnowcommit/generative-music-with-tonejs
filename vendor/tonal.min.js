(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalPitch=require("tonal-pitch");var tonalTranspose=require("tonal-transpose");var tonalDistance=require("tonal-distance");var toArr=require("as-arr");var isArr=Array.isArray;function hasVal(e){return e||e===0}var asArr=toArr.use(/\s*\|\s*|\s*,\s*|\s+/);function map(fn,list){return arguments.length>1?map(fn)(list):function(l){return asArr(l).map(fn)}}function compact(arr){return asArr(arr).filter(hasVal)}function filter(fn,list){return arguments.length>1?filter(fn)(list):function(l){return asArr(l).filter(fn)}}function objHeight(p){if(!p)return-Infinity;var f=tonalPitch.fifths(p)*7;var o=tonalPitch.focts(p)||-Math.floor(f/12)-100;return f+o*12}function ascComp(a,b){return objHeight(a)-objHeight(b)}function descComp(a,b){return-ascComp(a,b)}function sort(list,comp){var fn=arguments.length===1||comp===true?ascComp:comp===false?descComp:typeof comp==="function"?comp:ascComp;list=Array.isArray(list)?list.slice():asArr(list);return listFn(function(arr){return arr.sort(fn).filter(hasVal)},list)}var shuffle=listFn(function(arr){var i,t;var m=arr.length;while(m){i=Math.random()*m--|0;t=arr[m];arr[m]=arr[i];arr[i]=t}return arr});function trOct(n){return tonalTranspose.transpose(tonalPitch.pitch(0,n,1))}function rotate(times,list){var arr=asArr(list);var len=arr.length;var n=(times%len+len)%len;return arr.slice(n,len).concat(arr.slice(0,n))}function rotateAsc(times,list){return listFn(function(arr){var len=arr.length;var n=(times%len+len)%len;var head=arr.slice(n,len);var tail=arr.slice(0,n);var s=tonalDistance.semitones(head[len-n-1],tail[0]);if(s<0){var octs=Math.floor(s/12);if(times<0)head=head.map(trOct(octs));else tail=tail.map(trOct(-octs))}return head.concat(tail)},list)}function select(nums,list){if(arguments.length===1)return function(l){return select(nums,l)};var arr=asArr(list);return asArr(nums).map(function(n){return arr[n-1]||null})}function permutations(list){list=asArr(list);if(list.length===0)return[[]];return permutations(list.slice(1)).reduce(function(acc,perm){return acc.concat(list.map(function(e,pos){var new_perm=perm.slice();new_perm.splice(pos,0,list[0]);return new_perm}))},[])}function asPitchStr(p){return tonalPitch.strPitch(p)||p}function listToStr(v){return tonalPitch.isPitch(v)?tonalPitch.strPitch(v):isArr(v)?v.map(asPitchStr):v}function listFn(fn,list){if(arguments.length===1)return function(l){return listFn(fn,l)};var arr=asArr(list).map(tonalPitch.asPitch);var res=fn(arr);return listToStr(res)}exports.asArr=asArr;exports.map=map;exports.compact=compact;exports.filter=filter;exports.sort=sort;exports.shuffle=shuffle;exports.rotate=rotate;exports.rotateAsc=rotateAsc;exports.select=select;exports.permutations=permutations},{"as-arr":2,"tonal-distance":7,"tonal-pitch":24,"tonal-transpose":34}],2:[function(require,module,exports){"use strict";function use(sep){return function(o,s){var l=arguments.length;return l===0?[]:Array.isArray(o)?o:typeof o==="string"?o.trim().split(l===1?sep:s):[o]}}var asArr=use(/\s+/);asArr.use=use;module.exports=asArr},{}],3:[function(require,module,exports){module.exports={4:["1P 4P 7m 10m",["quartal"]],64:["5P 8P 10M"],5:["1P 5P"],M:["1P 3M 5P",["Major",""]],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:["1P 3M 5P 13M",["6"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:["1P 3M 5P 6M 9M",["69"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],addb9:["1P 3M 5P 9m"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:["1P 3m 5P",["minor"]],"m#5":["1P 3m 5A",["m+","mb6"]],m11:["1P 3m 5P 7m 9M 11P",["_11"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],"m7#5":["1P 3m 6m 7m"],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],"m9#5":["1P 3m 6m 7m 9M"],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],"+add#9":["1P 3M 5A 9A"],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"]}},{}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalDictionary=require("tonal-dictionary");var tonalArray=require("tonal-array");var tonalNote=require("tonal-note");var noteParser=require("note-parser");var tonalHarmonizer=require("tonal-harmonizer");var DATA=require("./chords.json");var dict=tonalDictionary.dictionary(DATA,function(str){return str.split(" ")});var names=dict.keys;function get(type,tonic){if(arguments.length===1)return function(t){return get(type,t)};var ivls=dict.get(type);return ivls?tonalHarmonizer.harmonize(ivls,tonic):null}function notes(chord){var p=parse(chord);var ivls=dict.get(p.type);return ivls?tonalHarmonizer.harmonize(ivls,p.tonic):tonalArray.compact(tonalArray.map(tonalNote.note,chord))}function intervals(name){var p=parse(name);return dict.get(p.type)||[]}function isKnownChord(name){return intervals(name).length>0}var detect=tonalDictionary.detector(dict,"");function position(chord){var pcs=tonalArray.map(tonalNote.pc,chord);var sorted=sortTriads(pcs);return sorted?sorted.indexOf(pcs[0]):null}function inversion(num,chord){if(arguments.length===1)return function(c){return inversion(num,c)};var sorted=sortTriads(chord);return sorted?tonalArray.rotate(num,sorted):[]}function sortTriads(chord){var all=tonalArray.permutations(notes(chord).map(tonalNote.pc));for(var i=0;i<all.length;i++){var ivls=tonalHarmonizer.intervallic(all[i]);if(areTriads(ivls))return all[i]}return null}function areTriads(list){for(var i=0;i<list.length;i++){if(list[i][0]!=="3")return false}return true}function parse(name){var p=noteParser.regex().exec(name);if(!p)return{type:name,tonic:false};return p[4]?{type:p[4],tonic:p[1]+p[2]+p[3]}:{type:p[3],tonic:p[1]+p[2]}}exports.names=names;exports.get=get;exports.notes=notes;exports.intervals=intervals;exports.isKnownChord=isKnownChord;exports.detect=detect;exports.position=position;exports.inversion=inversion;exports.parse=parse},{"./chords.json":3,"note-parser":5,"tonal-array":1,"tonal-dictionary":6,"tonal-harmonizer":10,"tonal-note":17}],5:[function(require,module,exports){"use strict";function fillStr(s,num){return Array(num+1).join(s)}function isNum(x){return typeof x==="number"}function isStr(x){return typeof x==="string"}function isDef(x){return typeof x!=="undefined"}function midiToFreq(midi,tuning){return Math.pow(2,(midi-69)/12)*(tuning||440)}var REGEX=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function regex(){return REGEX}var SEMITONES=[0,2,4,5,7,9,11];function parse(str,isTonic,tuning){if(typeof str!=="string")return null;var m=REGEX.exec(str);if(!m||!isTonic&&m[4])return null;var p={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};p.pc=p.letter+p.acc;p.step=(p.letter.charCodeAt(0)+3)%7;p.alt=p.acc[0]==="b"?-p.acc.length:p.acc.length;var pos=SEMITONES[p.step]+p.alt;p.chroma=pos<0?12+pos:pos%12;if(m[3]){p.oct=+m[3];p.midi=pos+12*(p.oct+1);p.freq=midiToFreq(p.midi,tuning)}if(isTonic)p.tonicOf=m[4];return p}var LETTERS="CDEFGAB";function acc(n){return!isNum(n)?"":n<0?fillStr("b",-n):fillStr("#",n)}function oct(n){return!isNum(n)?"":""+n}function build(s,a,o){if(s===null||typeof s==="undefined")return null;if(s.step)return build(s.step,s.alt,s.oct);if(s<0||s>6)return null;return LETTERS.charAt(s)+acc(a)+oct(o)}function midi(note){if((isNum(note)||isStr(note))&&note>=0&&note<128)return+note;var p=parse(note);return p&&isDef(p.midi)?p.midi:null}function freq(note,tuning){var m=midi(note);return m===null?null:midiToFreq(m,tuning)}var parser={parse:parse,build:build,regex:regex,midi:midi,freq:freq};var FNS=["letter","acc","pc","step","alt","chroma","oct"];FNS.forEach(function(name){parser[name]=function(src){var p=parse(src);return p&&isDef(p[name])?p[name]:null}});module.exports=parser},{}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalArray=require("tonal-array");var tonalNote=require("tonal-note");var tonalPcset=require("tonal-pcset");function id(x){return x}function dictionary(raw,parse){parse=parse||id;var byKey={};var names=Object.keys(raw);var aliases=[];names.forEach(function(k){var value=parse(raw[k][0]);byKey[k]=value;if(raw[k][1]){raw[k][1].forEach(function(alias){byKey[alias]=value;aliases.push(alias)})}});return{get:function(n){return byKey[n]},keys:function(all,filter){var keys=all?names.concat(aliases):names.slice();return typeof filter!=="function"?keys:keys.filter(function(k){return filter(k,byKey[k])})}}}function detector(dict,build){var isSep=typeof build==="string";var isFn=typeof build==="function";var nameByChroma=dict.keys(false).reduce(function(map$$1,key){map$$1[tonalPcset.chroma(dict.get(key))]=key;return map$$1},{});return function(notes){notes=tonalArray.sort(tonalArray.map(tonalNote.pc,notes));var sets=tonalPcset.chromaModes(notes);return tonalArray.compact(sets.map(function(set,i){var type=nameByChroma[set];if(!type)return null;var tonic=notes[i];return isSep?tonic+build+type:isFn?build(type,tonic):[type,tonic]}))}}exports.dictionary=dictionary;exports.detector=detector},{"tonal-array":1,"tonal-note":17,"tonal-pcset":19}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalPitch=require("tonal-pitch");function substr(a,b){if(!a||!b||a[1].length!==b[1].length)return null;var f=tonalPitch.fifths(b)-tonalPitch.fifths(a);if(tonalPitch.isPC(a))return tonalPitch.pitch(f,-Math.floor(f*7/12),1);var o=tonalPitch.focts(b)-tonalPitch.focts(a);var d=tonalPitch.height(b)-tonalPitch.height(a)<0?-1:1;return tonalPitch.pitch(d*f,d*o,d)}function interval(a,b){if(arguments.length===1)return function(b){return interval(a,b)};var pa=tonalPitch.asPitch(a);var pb=tonalPitch.asPitch(b);var i=substr(pa,pb);return a===pa&&b===pb?i:tonalPitch.strIvl(i)}function semitones(a,b){var i=substr(tonalPitch.asPitch(a),tonalPitch.asPitch(b));return i?tonalPitch.height(i):null}exports.interval=interval;exports.semitones=semitones},{"tonal-pitch":24}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isNum(n){return typeof n==="number"}var FIFTHS=[0,2,4,-1,1,3,5];function fOcts(f){return Math.floor(f*7/12)}var FIFTH_OCTS=FIFTHS.map(fOcts);function encode(step,alt,oct){var f=FIFTHS[step]+7*alt;if(!isNum(oct))return[f];var o=oct-FIFTH_OCTS[step]-4*alt;return[f,o]}function unaltered(f){var i=(f+1)%7;return i<0?7+i:i}var STEPS=[3,0,4,1,5,2,6];function decode(f,o){var step=STEPS[unaltered(f)];var alt=Math.floor((f+1)/7);if(!isNum(o))return[step,alt];var oct=o+4*alt+FIFTH_OCTS[step];return[step,alt,oct]}exports.encode=encode;exports.decode=decode},{}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalMidi=require("tonal-midi");function round(m,fn){m=m||m===0?Math.pow(10,m):false;return function(v){v=fn(v);return v===null?null:m?Math.round(v*m)/m:v}}function eqTempFreq(ref,max,note$$1){if(arguments.length>2)return eqTempFreq(ref,max)(note$$1);return round(max,function(p){var m=tonalMidi.toMidi(p);return m?Math.pow(2,(m-69)/12)*ref:null})}var toFreq=eqTempFreq(440,2);function eqTempFreqToMidi(ref,max,freq){if(arguments.length>2)return eqTempFreqToMidi(ref,max)(freq);return round(max,function(freq){return 12*(Math.log(freq)-Math.log(ref))/Math.log(2)+69})}var toMidi$1=eqTempFreqToMidi(440,2);function note$1(freq,useSharps){return tonalMidi.note(toMidi$1(freq),useSharps)}function cents(base,freq){var b=toFreq(base)||base;var f=toFreq(freq)||freq;return Math.round(1200*(Math.log(f/b)/Math.log(2)))}exports.eqTempFreq=eqTempFreq;exports.toFreq=toFreq;exports.eqTempFreqToMidi=eqTempFreqToMidi;exports.toMidi=toMidi$1;exports.note=note$1;exports.cents=cents},{"tonal-midi":14}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalTranspose=require("tonal-transpose");var tonalDistance=require("tonal-distance");var tonalArray=require("tonal-array");function harmonics(list){var a=tonalArray.asArr(list);return a.length?tonalArray.compact(a.map(tonalDistance.interval(a[0]))):a}function intervallic(notes){var dist=[];notes=tonalArray.asArr(notes);for(var i=1;i<notes.length;i++){dist.push(tonalDistance.interval(notes[i-1],notes[i]))}return dist}function harmonize(list,pitch){if(arguments.length>1)return harmonize(list)(pitch);return function(tonic){return tonalArray.compact(tonalArray.map(tonalTranspose.transpose(tonic||"P1"),list))}}exports.harmonics=harmonics;exports.intervallic=intervallic;exports.harmonize=harmonize},{"tonal-array":1,"tonal-distance":7,"tonal-transpose":34}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var intervalNotation=require("interval-notation");var tonalPitch=require("tonal-pitch");function toInterval(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?tonalPitch.strIvl(i):null}function num(ivl){var p=props(ivl);return p?p.num:null}function value(ivl){var p=props(ivl);return p?p.num*p.dir:null}function props(ivl){var i=tonalPitch.asIvlPitch(ivl);if(!i)return null;var d=tonalPitch.decode(i);return{num:d[0]+1+d[2]*7,alt:d[1],dir:i[2]}}function fromProps(props){if(!props||props.num<1)return null;var octs=Math.floor(props.num/8);var simple=props.num-7*octs;return intervalNotation.build(simple,props.alt||0,octs,props.dir)}function semitones(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?tonalPitch.height(i):null}var IN=[1,2,2,3,3,4,5,5,6,6,7,7];var IQ="P m M m M P d P m M m M".split(" ");function fromSemitones(num){var d=num<0?-1:1;var n=Math.abs(num);var c=n%12;var o=Math.floor(n/12);return d*(IN[c]+7*o)+IQ[c]}var CLASSES=[0,1,2,3,4,5,6,5,4,3,2,1];function ic(ivl){var i=tonalPitch.asIvlPitch(ivl);var s=i?tonalPitch.chr(i):Math.round(ivl);return isNaN(s)?null:CLASSES[Math.abs(s)%12]}var TYPES="PMMPPMM";function type(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?TYPES[tonalPitch.decode(i)[0]]:null}var invert=tonalPitch.ivlFn(function(i){var d=tonalPitch.decode(i);var step=(7-d[0])%7;var alt=TYPES[d[0]]==="P"?-d[1]:-(d[1]+1);return tonalPitch.encode(step,alt,d[2],tonalPitch.dir(i))});var simplify=tonalPitch.ivlFn(function(i){var dec=tonalPitch.decode(i);if(dec[0]!==0||dec[2]!==1)dec[2]=0;return tonalPitch.encode(dec[0],dec[1],dec[2],tonalPitch.dir(i))});exports.toInterval=toInterval;exports.num=num;exports.value=value;exports.props=props;exports.fromProps=fromProps;exports.semitones=semitones;exports.fromSemitones=fromSemitones;exports.ic=ic;exports.type=type;exports.invert=invert;exports.simplify=simplify},{"interval-notation":12,"tonal-pitch":24}],12:[function(require,module,exports){"use strict";var IVL_TNL="([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4})";var IVL_STR="(AA|A|P|M|m|d|dd)([-+]?)(\\d+)";var COMPOSE="(?:("+IVL_TNL+")|("+IVL_STR+"))";var IVL_REGEX=new RegExp("^"+COMPOSE+"$");function parse(str,strict){if(typeof str!=="string")return null;var m=IVL_REGEX.exec(str);if(!m)return null;var i={num:+(m[3]||m[8]),q:m[4]||m[6]};i.dir=(m[2]||m[7])==="-"?-1:1;var step=(i.num-1)%7;i.simple=step+1;i.type=TYPES[step];i.alt=qToAlt(i.type,i.q);i.oct=Math.floor((i.num-1)/7);i.size=i.dir*(SIZES[step]+i.alt+12*i.oct);if(strict!==false){if(i.type==="M"&&i.q==="P")return null}return i}var SIZES=[0,2,4,5,7,9,11];var TYPES="PMMPPMM";function type(num){return TYPES[(num-1)%7]}function dirStr(dir){return dir===-1?"-":""}function num(simple,oct){return simple+7*oct}function shorthand(simple,alt,oct,dir){return altToQ(simple,alt)+dirStr(dir)+num(simple,oct)}function build(simple,alt,oct,dir){return dirStr(dir)+num(simple,oct)+altToQ(simple,alt)}function qToAlt(num,q){var t=typeof num==="number"?type(num):num;if(q==="M"&&t==="M")return 0;if(q==="P"&&t==="P")return 0;if(q==="m"&&t==="M")return-1;if(/^A+$/.test(q))return q.length;if(/^d+$/.test(q))return t==="P"?-q.length:-q.length-1;return null}function fillStr(s,n){return Array(Math.abs(n)+1).join(s)}function altToQ(num,alt){var t=typeof num==="number"?type(Math.abs(num)):num;if(alt===0)return t==="M"?"M":"P";else if(alt===-1&&t==="M")return"m";else if(alt>0)return fillStr("A",alt);else if(alt<0)return fillStr("d",t==="P"?alt:alt+1);else return null}module.exports={parse:parse,type:type,altToQ:altToQ,qToAlt:qToAlt,build:build,shorthand:shorthand}},{}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalNotation=require("tonal-notation");var tonalTranspose=require("tonal-transpose");var tonalNote=require("tonal-note");var tonalRange=require("tonal-range");var tonalArray=require("tonal-array");var tonalHarmonizer=require("tonal-harmonizer");var MODES=["ionian","dorian","phrygian","lydian","mixolydian","aeolian","locrian","major","minor"];var FIFTHS=[0,2,4,-1,1,3,5,0,3];var SCALES=[0,1,2,3,4,5,6,0,5].map(function(n){return tonalHarmonizer.harmonics(tonalArray.rotate(n,["C","D","E","F","G","A","B"]))});function toKey(t,m){return!t?m:t+" "+m}function majorKey(n){return toKey(tonalTranspose.trFifths("C",n),"major")}function modeNum(mode){return FIFTHS[MODES.indexOf(mode)]}function validMode(m){m=m.trim().toLowerCase();return MODES.indexOf(m)===-1?null:m}function props(str){if(typeof str!=="string")return null;var ndx=str.indexOf(" ");var key;if(ndx===-1){var p=tonalNote.pc(str);key=p?{tonic:p,mode:"major"}:{tonic:false,mode:validMode(str)}}else{key={tonic:tonalNote.pc(str.slice(0,ndx)),mode:validMode(str.slice(ndx+1))}}return key.mode?key:null}function isKeyName(name){return props(name)!==null}function tonic(key){return(props(key)||key||{}).tonic||null}function mode(key){return(props(key)||key||{}).mode||null}function relative(rel,key){if(arguments.length===1)return function(k){return relative(rel,k)};rel=props(rel);if(!rel||rel.tonic)return null;key=props(key);if(!key||!key.tonic)return null;var tonic=tonalTranspose.trFifths(key.tonic,modeNum(rel.mode)-modeNum(key.mode));return toKey(tonic,rel.mode)}function alteredNotes(key){var alt=alteration(key);return alt===null?null:alt<0?tonalRange.numeric([-1,alt]).map(tonalTranspose.trFifths("F")):tonalRange.numeric([1,alt]).map(tonalTranspose.trFifths("B"))}function modes(alias){return alias?MODES.slice():MODES.slice(0,-2)}function fromAlter(n){return typeof n==="number"?majorKey(n):null}function fromAcc(s){return tonalNotation.areSharps(s)?majorKey(s.length):tonalNotation.areFlats(s)?majorKey(-s.length):null}function scale(key){var p=props(key);if(!p||!p.tonic)return null;return tonalHarmonizer.harmonize(SCALES[MODES.indexOf(p.mode)],p.tonic)}function alteration(key){var k=props(key);if(!k||!k.tonic)return null;var toMajor=modeNum(k.mode);var toC=tonalNote.pcFifths(k.tonic);return toC-toMajor}function signature(key){return tonalNotation.toAcc(alteration(key))}var accidentals=signature;exports.props=props;exports.isKeyName=isKeyName;exports.tonic=tonic;exports.mode=mode;exports.relative=relative;exports.alteredNotes=alteredNotes;exports.modes=modes;exports.fromAlter=fromAlter;exports.fromAcc=fromAcc;exports.scale=scale;exports.alteration=alteration;exports.signature=signature;exports.accidentals=accidentals},{"tonal-array":1,"tonal-harmonizer":10,"tonal-notation":16,"tonal-note":17,"tonal-range":29,"tonal-transpose":34}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var parser=_interopDefault(require("note-parser"));function toMidi(val){if(Array.isArray(val)&&val.length===2)return val[0]*7+val[1]*12+12;return parser.midi(val)}var FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" ");var SHARPS="C C# D D# E F F# G G# A A# B".split(" ");function note(num,sharps){if(num===true||num===false)return function(m){return note(m,num)};num=Math.round(num);var pcs=sharps===true?SHARPS:FLATS;var pc=pcs[num%12];var o=Math.floor(num/12)-1;return pc+o}exports.toMidi=toMidi;exports.note=note},{"note-parser":15}],15:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function toStep(l){var s="CDEFGAB".indexOf(l.toUpperCase());return s<0?null:s}function isStep(d){return!(d<0||d>6)}function toLetter(s){return isStep(s)?"CDEFGAB".charAt(s):null}function areFlats(s){return/^b+$/.test(s)}function areSharps(s){return/^#+$/.test(s)}function toAlt(s){return s===""?0:areFlats(s)?-s.length:areSharps(s)?s.length:null}function fillStr(s,num){return Array(num+1).join(s)}function toAcc(n){return!n?"":n<0?fillStr("b",-n):fillStr("#",n)}exports.toStep=toStep;exports.isStep=isStep;exports.toLetter=toLetter;exports.areFlats=areFlats;exports.areSharps=areSharps;exports.toAlt=toAlt;exports.toAcc=toAcc},{}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var noteParser=require("note-parser");var tonalPitch=require("tonal-pitch");var tonalTranspose=require("tonal-transpose");var tonalMidi=require("tonal-midi");var tonalFreq=require("tonal-freq");var midi=tonalMidi.toMidi;var fromMidi=tonalMidi.note;var freq=tonalFreq.toFreq;function chroma(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.chr(p):null}function note$1(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote(p):null}const name=note$1;function props(n){var p=tonalPitch.asNotePitch(n);if(!p)return null;var d=tonalPitch.decode(p);return{step:d[0],alt:d[1],oct:d[2]}}function fromProps(props){return props?noteParser.build(props.step,props.alt,props.oct):null}function getProp(name){return function(n){var p=props(n);return p?p[name]:null}}var oct=getProp("oct");var step=getProp("step");function pcFifths(note$$1){var p=tonalPitch.asNotePitch(note$$1);return p?tonalPitch.fifths(p):null}var alt=getProp("alt");function pc(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote([p[0],[tonalPitch.fifths(p)]]):null}var ASC=tonalPitch.parseIvl("2d");var DESC=tonalPitch.parseIvl("-2d");function enharmonics(pitch){var notes=[];notes.push(tonalTranspose.transpose(DESC,pitch));if(notes[0]===null)return null;notes.push(pitch);notes.push(tonalTranspose.transpose(ASC,pitch));return notes}function simplify(pitch){return enharmonics(pitch).reduce(function(simple,next){if(!simple)return next;return simple.length>next.length?next:simple},null)}exports.midi=midi;exports.fromMidi=fromMidi;exports.freq=freq;exports.chroma=chroma;exports.note=note$1;exports.name=name;exports.props=props;exports.fromProps=fromProps;exports.oct=oct;exports.step=step;exports.pcFifths=pcFifths;exports.alt=alt;exports.pc=pc;exports.enharmonics=enharmonics;exports.simplify=simplify},{"note-parser":18,"tonal-freq":9,"tonal-midi":14,"tonal-pitch":24,"tonal-transpose":34}],18:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalPitch=require("tonal-pitch");var tonalNote=require("tonal-note");var tonalArray=require("tonal-array");var tonalTranspose=require("tonal-transpose");function chrToInt(set){return parseInt(chroma(set),2)}function pitchChr(p){p=tonalPitch.asPitch(p);return p?tonalPitch.chr(p):null}function chroma(set){if(isChroma(set))return set;var b=[0,0,0,0,0,0,0,0,0,0,0,0];tonalArray.map(pitchChr,set).forEach(function(i){b[i]=1});return b.join("")}function notes(notes){var pcs=tonalArray.map(tonalNote.pc,notes);if(!pcs.length)return pcs;var tonic=pcs[0];var rotated=tonalArray.rotate(pitchChr(tonic),chroma(pcs).split("")).join("");return fromChroma(rotated,tonic)}function chromaModes(set,normalize){normalize=normalize!==false;var binary=chroma(set).split("");return tonalArray.compact(binary.map(function(_,i){var r=tonalArray.rotate(i,binary);return normalize&&r[0]==="0"?null:r.join("")}))}var REGEX=/^[01]{12}$/;function isChroma(set){return REGEX.test(set)}var IVLS="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");function fromChroma(binary,tonic){if(arguments.length===1)return function(t){return fromChroma(binary,t)};if(!isChroma(binary))return null;tonic=tonic||"P1";return tonalArray.compact(binary.split("").map(function(d,i){return d==="1"?tonalTranspose.transpose(IVLS[i],tonic):null}))}function equal(s1,s2){if(arguments.length===1)return function(s){return equal(s1,s)};return chroma(s1)===chroma(s2)}function subset(set,test){if(arguments.length===1)return function(t){return subset(set,t)};test=chrToInt(test);return(test&chrToInt(set))===test}function superset(set,test){if(arguments.length===1)return function(t){return superset(set,t)};test=chrToInt(test);return(test|chrToInt(set))===test}function includes(set,note){if(arguments.length>1)return includes(set)(note);set=chroma(set);return function(note){return set[pitchChr(note)]==="1"}}function filter(set,notes){if(arguments.length===1)return function(n){return filter(set,n)};return tonalArray.asArr(notes).filter(includes(set))}exports.chroma=chroma;exports.notes=notes;exports.chromaModes=chromaModes;exports.isChroma=isChroma;exports.fromChroma=fromChroma;exports.equal=equal;exports.subset=subset;exports.superset=superset;exports.includes=includes;exports.filter=filter},{"tonal-array":1,"tonal-note":23,"tonal-pitch":24,"tonal-transpose":34}],20:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalMidi=require("tonal-midi");function toEqualTemp(ref){return function(p){var m=tonalMidi.fromNote(p);return m?Math.pow(2,(m-69)/12)*ref:null}}var toFreq=toEqualTemp(440);function fromEqualTemp(ref){return function(freq){var midiNum=12*(Math.log(freq)-Math.log(ref))/Math.log(2)+69;return Math.round(midiNum)}}var midiFromFreq=fromEqualTemp(440);function fromFreq(freq){return tonalMidi.toNote(midiFromFreq(freq))}function cents(base,freq){var b=toFreq(base)||base;var f=toFreq(freq)||freq;return 1200*(Math.log(f/b)/Math.log(2))}exports.toEqualTemp=toEqualTemp;exports.toFreq=toFreq;exports.fromEqualTemp=fromEqualTemp;exports.midiFromFreq=midiFromFreq;exports.fromFreq=fromFreq;exports.cents=cents},{"tonal-midi":22}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var parser=_interopDefault(require("note-parser"));function isValidNote(m){return parser.midi(m)!==null}function fromNote(val){if(Array.isArray(val)&&val.length===2)return val[0]*7+val[1]*12+12;return parser.midi(val)}var FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" ");var SHARPS="C C# D D# E F F# G G# A A# B".split(" ");function toNote(num,sharps){if(num===true||num===false)return function(m){return toNote(m,num)};var pcs=sharps===true?SHARPS:FLATS;var pc=pcs[num%12];var o=Math.floor(num/12)-1;return pc+o}exports.isValidNote=isValidNote;exports.fromNote=fromNote;exports.toNote=toNote},{"note-parser":20}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var noteParser=require("note-parser");var tonalPitch=require("tonal-pitch");var tonalTranspose=require("tonal-transpose");var tonalMidi=require("tonal-midi");var tonalFreq=require("tonal-freq");var midi=tonalMidi.toMidi;var fromMidi=tonalMidi.note;var freq=tonalFreq.toFreq;function chroma(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.chr(p):null}function note$1(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote(p):null}function props(n){var p=tonalPitch.asNotePitch(n);if(!p)return null;var d=tonalPitch.decode(p);return{step:d[0],alt:d[1],oct:d[2]}}function fromProps(props){return props?noteParser.build(props.step,props.alt,props.oct):null}function getProp(name){return function(n){var p=props(n);return p?p[name]:null}}var oct=getProp("oct");var step=getProp("step");function pcFifths(note){var p=tonalPitch.asNotePitch(note);return p?tonalPitch.fifths(p):null}var alt=getProp("alt");function pc(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote([p[0],[tonalPitch.fifths(p)]]):null}var ASC=tonalPitch.parseIvl("2d");var DESC=tonalPitch.parseIvl("-2d");function enharmonics(pitch){var notes=[];notes.push(tonalTranspose.transpose(DESC,pitch));if(notes[0]===null)return null;notes.push(pitch);notes.push(tonalTranspose.transpose(ASC,pitch));return notes}function simplify(pitch){return enharmonics(pitch).reduce(function(simple,next){if(!simple)return next;return simple.length>next.length?next:simple;
},null)}exports.midi=midi;exports.fromMidi=fromMidi;exports.freq=freq;exports.chroma=chroma;exports.note=note$1;exports.props=props;exports.fromProps=fromProps;exports.oct=oct;exports.step=step;exports.pcFifths=pcFifths;exports.alt=alt;exports.pc=pc;exports.enharmonics=enharmonics;exports.simplify=simplify},{"note-parser":20,"tonal-freq":21,"tonal-midi":22,"tonal-pitch":24,"tonal-transpose":34}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var noteParser=require("note-parser");var intervalNotation=require("interval-notation");var tonalEncoding=require("tonal-encoding");function pitch(fifths,focts,dir){return dir?["tnlp",[fifths,focts],dir]:["tnlp",[fifths,focts]]}function isPitch(p){return Array.isArray(p)&&p[0]==="tnlp"}function encode$1(s,a,o,dir){return dir?["tnlp",tonalEncoding.encode(s,a,o),dir]:["tnlp",tonalEncoding.encode(s,a,o)]}function decode$1(p){return tonalEncoding.decode.apply(null,p[1])}function pType(p){return!isPitch(p)?null:p[2]?"ivl":"note"}function isNotePitch(p){return pType(p)==="note"}function isIvlPitch(p){return pType(p)==="ivl"}function isPC(p){return isPitch(p)&&p[1].length===1}function dir(p){return p[2]===-1?-1:1}function fifths(p){return p[2]===-1?-p[1][0]:p[1][0]}function focts(p){return p[2]===-1?-p[1][1]:p[1][1]}function height(p){return fifths(p)*7+focts(p)*12}function chr(p){var f=fifths(p);return 7*f-12*Math.floor(f*7/12)}function memoize(fn){var cache={};return function(str){if(typeof str!=="string")return null;return cache[str]||(cache[str]=fn(str))}}var parseNote=memoize(function(s){var p=noteParser.parse(s);return p?encode$1(p.step,p.alt,p.oct):null});var parseIvl=memoize(function(s){var p=intervalNotation.parse(s);if(!p)return null;return p?encode$1(p.simple-1,p.alt,p.oct,p.dir):null});function parsePitch(s){return parseNote(s)||parseIvl(s)}function asNotePitch(p){return isNotePitch(p)?p:parseNote(p)}function asIvlPitch(p){return isIvlPitch(p)?p:parseIvl(p)}function asPitch(p){return isPitch(p)?p:parsePitch(p)}function strNote(p){if(!isNotePitch(p))return null;return noteParser.build.apply(null,decode$1(p))}function strIvl(p){if(!isIvlPitch(p))return null;var d=decode$1(p);var num=d[0]+1+7*d[2];return p[2]*num+intervalNotation.altToQ(num,d[1])}function strPitch(p){return strNote(p)||strIvl(p)}function decorator(is,parse$$1,str){return function(fn){return function(v){var i=is(v);if(i)return fn(v);var p=parse$$1(v);return p?str(fn(p)):null}}}var noteFn=decorator(isNotePitch,parseNote,strNote);var ivlFn=decorator(isIvlPitch,parseIvl,strIvl);var pitchFn=decorator(isPitch,parsePitch,strPitch);exports.pitch=pitch;exports.isPitch=isPitch;exports.encode=encode$1;exports.decode=decode$1;exports.pType=pType;exports.isNotePitch=isNotePitch;exports.isIvlPitch=isIvlPitch;exports.isPC=isPC;exports.dir=dir;exports.fifths=fifths;exports.focts=focts;exports.height=height;exports.chr=chr;exports.parseNote=parseNote;exports.parseIvl=parseIvl;exports.parsePitch=parsePitch;exports.asNotePitch=asNotePitch;exports.asIvlPitch=asIvlPitch;exports.asPitch=asPitch;exports.strNote=strNote;exports.strIvl=strIvl;exports.strPitch=strPitch;exports.noteFn=noteFn;exports.ivlFn=ivlFn;exports.pitchFn=pitchFn},{"interval-notation":25,"note-parser":26,"tonal-encoding":8}],25:[function(require,module,exports){arguments[4][12][0].apply(exports,arguments)},{dup:12}],26:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalArray=require("tonal-array");function notes(notes){return tonalArray.sort(notes).filter(function(n,i,arr){return i===0||n!==arr[i-1]})}exports.notes=notes},{"tonal-array":1}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalNote=require("tonal-note");var tonalInterval=require("tonal-interval");var tonalArray=require("tonal-array");var tonalTranspose=require("tonal-transpose");var tonalDistance=require("tonal-distance");var tonalChord=require("tonal-chord");var tonalNotation=require("tonal-notation");function abstract(chords,tonic){tonic=tonalNote.pc(tonic);chords=tonalArray.map(tonalChord.parse,chords);var tonics=tonalArray.compact(chords.map(function(x){return x.tonic}));if(tonics.length!==chords.length)return null;return tonics.map(function(t,i){var p=tonalInterval.props(tonalDistance.interval(tonic,t));return buildRoman(p.num-1,p.alt,chords[i].type)})}var NUMS=["I","II","III","IV","V","VI","VII"];function buildRoman(num,alt,element){return tonalNotation.toAcc(alt)+NUMS[num%7]+(element||"")}function concrete(chords,tonic){return tonalArray.map(function(e){var r=parseRomanChord(e);return r?tonalTranspose.transpose(r.root,tonic)+r.type:null},chords)}var ROMAN=/^\s*(b|bb|#|##|)(IV|III|II|I|VII|VI|V|iv|iii|ii|i|vii|vi|v)\s*(.*)\s*$/;function romanRegex(){return ROMAN}var NUM={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6};function parseRomanChord(str){var m=ROMAN.exec(str);if(!m)return null;var num=NUM[m[2].toLowerCase()]+1;var alt=m[1].length;if(m[1][0]==="b")alt=-alt;return{root:tonalInterval.fromProps({num:num,alt:alt,dir:1}),type:m[3]}}exports.abstract=abstract;exports.buildRoman=buildRoman;exports.concrete=concrete;exports.romanRegex=romanRegex;exports.parseRomanChord=parseRomanChord},{"tonal-array":1,"tonal-chord":4,"tonal-distance":7,"tonal-interval":11,"tonal-notation":16,"tonal-note":17,"tonal-transpose":34}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalArray=require("tonal-array");var tonalTranspose=require("tonal-transpose");var tonalMidi=require("tonal-midi");var tonalPcset=require("tonal-pcset");function isNum(n){return typeof n==="number"}function asNum(n){return isNum(n)?n:tonalMidi.toMidi(n)}function ascR(b,n){for(var a=[];n--;a[n]=n+b);return a}function descR(b,n){for(var a=[];n--;a[n]=b-n);return a}function ran(a,b){return a===null||b===null?[]:a<b?ascR(a,b-a+1):descR(a,a-b+1)}function numeric(list){return tonalArray.asArr(list).map(asNum).reduce(function(r,n,i){if(i===1)return ran(r,n);var last=r[r.length-1];return r.concat(ran(last,n).slice(1))})}function chromatic(list,sharps){return tonalArray.map(tonalMidi.note(sharps===true),numeric(list))}function fifths(tonic,range){return numeric(range).map(tonalTranspose.trFifths(tonic))}function pitchSet(set,range){if(arguments.length===1)return function(l){return pitchSet(set,l)};return tonalPcset.filter(set,chromatic(range))}exports.numeric=numeric;exports.chromatic=chromatic;exports.fifths=fifths;exports.pitchSet=pitchSet},{"tonal-array":1,"tonal-midi":14,"tonal-pcset":19,"tonal-transpose":34}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalDictionary=require("tonal-dictionary");var tonalArray=require("tonal-array");var tonalNote=require("tonal-note");var tonalHarmonizer=require("tonal-harmonizer");var DATA=require("./scales.json");var dict=tonalDictionary.dictionary(DATA,function(str){return str.split(" ")});function get(type,tonic){if(arguments.length===1)return function(t){return get(type,t)};var ivls=dict.get(type);return ivls?tonalHarmonizer.harmonize(ivls,tonic):null}var names=dict.keys;function notes(name){var scale=parse(name);var notes=scale.tonic?get(scale.type,tonalNote.pc(scale.tonic)):null;return notes||tonalArray.compact(tonalArray.map(tonalNote.pc,name).map(function(n,i,arr){return arr.indexOf(n)<i?null:n}))}function intervals(name){var scale=parse(name);return get(scale.type,false)||[]}function isKnowScale(name){return intervals(name).length>0}function parse(str){if(typeof str!=="string")return null;var i=str.indexOf(" ");var tonic=tonalNote.note(str.substring(0,i))||false;var type=tonic?str.substring(i+1):str;return{tonic:tonic,type:type}}var detect=tonalDictionary.detector(dict," ");exports.get=get;exports.names=names;exports.notes=notes;exports.intervals=intervals;exports.isKnowScale=isKnowScale;exports.parse=parse;exports.detect=detect},{"./scales.json":31,"tonal-array":1,"tonal-dictionary":6,"tonal-harmonizer":10,"tonal-note":17}],31:[function(require,module,exports){module.exports={chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:["1P 2M 3M 4A 6M 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:["1P 2M 4P 5P 7m"],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]}},{}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalInterval=require("tonal-interval");var tonalPitch=require("tonal-pitch");var tonalArray=require("tonal-array");function density(list){var a,b,i;var notes=tonalArray.compact(tonalArray.map(tonalPitch.asNotePitch,list));var len=notes.length;var result=[0,0,0,0,0,0];for(a=0;a<len;a++){for(b=a;b<len;b++){i=tonalInterval.ic(tonalPitch.chr(notes[b])-tonalPitch.chr(notes[a]));if(i===6)result[5]=result[5]+1;else if(i>0)result[5-i]=result[5-i]+1}}return result}exports.density=density},{"tonal-array":1,"tonal-interval":11,"tonal-pitch":24}],33:[function(require,module,exports){"use strict";var assign=Object.assign;var tonal={};assign(tonal,require("tonal-array"));assign(tonal,require("tonal-transpose"));assign(tonal,require("tonal-harmonizer"));assign(tonal,require("tonal-distance"));tonal.note=require("tonal-note");tonal.ivl=require("tonal-interval");tonal.midi=require("tonal-midi");tonal.freq=require("tonal-freq");tonal.range=require("tonal-range");tonal.key=require("tonal-key");tonal.scale=function(name){return tonal.scale.notes(name)};assign(tonal.scale,require("tonal-scale"));tonal.chord=function(name){return tonal.chord.notes(name)};assign(tonal.chord,require("tonal-chord"));tonal.pitch=require("tonal-pitch");tonal.notation=require("tonal-notation");tonal.progression=require("tonal-progression");tonal.sonority=require("tonal-sonority");tonal.pitchset=require("tonal-pitchset");tonal.pcset=require("tonal-pcset");if(typeof module==="object"&&module.exports)module.exports=tonal;if(typeof window!=="undefined")window.Tonal=tonal},{"tonal-array":1,"tonal-chord":4,"tonal-distance":7,"tonal-freq":9,"tonal-harmonizer":10,"tonal-interval":11,"tonal-key":13,"tonal-midi":14,"tonal-notation":16,"tonal-note":17,"tonal-pcset":19,"tonal-pitch":24,"tonal-pitchset":27,"tonal-progression":28,"tonal-range":29,"tonal-scale":30,"tonal-sonority":32,"tonal-transpose":34}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalPitch=require("tonal-pitch");function trBy(i,p){var t=tonalPitch.pType(p);if(!t)return null;var f=tonalPitch.fifths(i)+tonalPitch.fifths(p);if(tonalPitch.isPC(p))return["tnlp",[f]];var o=tonalPitch.focts(i)+tonalPitch.focts(p);if(t==="note")return["tnlp",[f,o]];var d=tonalPitch.height(i)+tonalPitch.height(p)<0?-1:1;return["tnlp",[d*f,d*o],d]}function transpose(a,b){if(arguments.length===1)return function(b){return transpose(a,b)};var pa=tonalPitch.asPitch(a);var pb=tonalPitch.asPitch(b);var r=tonalPitch.isIvlPitch(pa)?trBy(pa,pb):tonalPitch.isIvlPitch(pb)?trBy(pb,pa):null;return a===pa&&b===pb?r:tonalPitch.strPitch(r)}function trFifths(t,n){if(arguments.length>1)return trFifths(t)(n);return function(n){return transpose(t,tonalPitch.pitch(n,0,1))}}exports.transpose=transpose;exports.trFifths=trFifths},{"tonal-pitch":24}]},{},[33]);
